<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dish Library</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <header>
        <h1><img src="launch.png" alt="Meals Icon"> Dish Library</h1>
    </header>

    <div class="dish-library-management">

        <div class="current-dishes-header">
            <button id="openAddDishModal"><i class="fas fa-square-plus"></i></button>
            <div class="filter-section">
                <button id="openFilterPopup"><i class="fas fa-filter"></i></button>
                <div id="filterPopup" class="tag-popup">
                    <div class="popup-header">
                        <button id="clearFilter">All</button>
                    </div>
                    <div id="tagButtonsContainer">
                        </div>
                    <div class="popup-footer">
                        <button id="openAddTagPopup"><i class="fas fa-pencil"></i></button>
                    </div>
                </div>
            </div>

            <div id="addTagPopup" class="modal">
                <div class="modal-content">
                    <span class="close-button" id="closeAddTagModal">&times;</span>
                    <h3>Manage Tags</h3>
                    <div class="add-new-tag">
                        <label for="newTagName">New Tag:</label>
                        <input type="text" id="newTagName" placeholder="New Tag Name">
                        <button id="saveNewTagButton">Add Tag</button>
                    </div>
                    <h4>Existing Tags:</h4>
                    <ul id="existingTagsList">
                        </ul>
                </div>
            </div>

        </div>
        <div id="dishListContainer" class="dish-grid">
            </div>

        <div id="addDishModal" class="modal">
            <div class="modal-content">
                <span class="close-button" id="closeAddModal">&times;</span>
                <h3>Add New Dish</h3>
                <label for="newDishName">Dish Name:</label>
                <input type="text" id="newDishName" placeholder="Dish Name">

                <h4>Ingredients:</h4>
                <div class="add-ingredient">
                    <input type="text" id="newDishIngredientName" placeholder="Ingredient Name">
                    <input type="text" id="newDishIngredientQuantity" placeholder="Quantity">
                    <button id="addDishWithIngredientsButton"><i class="fas fa-plus"></i></button>
                </div>
                <ul id="ingredientsList">
                    </ul>

                <h4>Tags:</h4>
                <select id="availableTags">
                    <option value="">Add a tag</option>
                    </select>
                    <button id="addDishButton">Save Dish</button>
                </div>
                <ul id="selectedTagsList"></ul>

            </div>
        </div>

        
        <div id="dishListContainer" class="dish-grid">
            </div>

        <div id="editDishModal" class="modal">
            <div class="modal-content">
                <span class="close-button" id="closeEditModal">&times;</span>
                <h3>Edit Dish</h3>
                <label for="editDishName">Dish Name:</label>
                <input type="text" id="editDishName">

                <h4>Ingredients:</h4>
                <ul id="editIngredientsList">
                    </ul>
                <div class="add-ingredient">
                    <input type="text" id="editNewIngredientName" placeholder="Ingredient Name">
                    <input type="text" id="editNewIngredientQuantity" placeholder="Quantity">
                    <button id="editAddIngredientButton"><i class="fas fa-plus"></i></button>
                </div>
                <h4>Tags:</h4>
                <div class="add-tag">
                    <select id="editAvailableTags">
                        <option value="">Add a tag</option>
                        </select>
                </div>
                <ul id="editSelectedTagsList"></ul>

                <button id="saveEditedDishButton">Save Changes</button>
                <input type="hidden" id="currentDishId">
            </div>
        </div>
    </div>

    <div class="bottom-navigation">
        <div class="bottom-buttons">
            <div class="active-dish-button">
                <button id="active-dishLibraryButton">
                    <i class="fas fa-book"></i>
                        </button>
            </div>
            <button id="homeButton" onclick="window.location.href='index.html'">
                <i class="fas fa-home"></i>
            </button>
            <button id="groceryListButton" onclick="window.location.href='grocery.html'">
                <i class="fas fa-list-check"></i>
            </button>
        </div>
    </div>

    <script src="dishes.js" type="module"></script>
</body>
</html>
